<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Fractals in the Complex Plane</title>
<link rel="stylesheet" type="text/css" href="../../styles.css">
<link rel="icon" href="../../images/favicon.png" sizes="16x16" type="image/png">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>
<script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
</head>
<body>

<div id="top"></div>

<div class="content">
<h1>Fractals in the Complex Plane</h1>
<p>18 May, 2017 &ndash; <a href="https://github.com/anematode" target="_blank">anematode</a></p>

<div class="article">
<p>
	Ever since the term was introduced by <a href="https://en.wikipedia.org/wiki/Benoit_Mandelbrot" target="_blank">Benoit B. Mandelbrot</a>, "fractals" have awed so many people with their odd combination of simplicity and complexity. In this article I specifically talk about fractals in the <a href="https://en.wikipedia.org/wiki/Complex_plane" target="_blank">complex plane</a>, but fractal geometry and its derivatives are a fascinating part of math going much beyond what I detail here, so definitely get yourself interested in that.
</p>

<p>
	Before we begin, let's figure out exactly what a <strong>fractal</strong> is. <a href="http://dictionary.com" target="_blank">Dictionary.com</a> defines the word fractal to mean "<i>a geometrical or physical structure having an irregular or fragmented shape at all scales of measurement between a greatest and smallest scale such that certain mathematical or physical properties of the structure, as the perimeter of a curve or the flow rate in a porous medium, behave as if the dimensions of the structure (fractal dimensions) are greater than the spatial dimensions.</i>" This is quite wordy, sure, but to get a better idea of what a fractal is, let's look at some examples.
</p>

<p>
	Below is the Mandelbrot set - arguably one of the most famous fractals in existence - named after our old friend Benoit B. Mandelbrot, the father of fractal geometry.
</p>

<div class="figure">
	<figure>
		<img src="images/mandelbrot.png" alt="Mandelbrot Set  (Real axis: [-2.5,1.5], Imaginary axis: [-2,2], 500 iterations.)">
		<figcaption>Figure 1: The Mandelbrot set.</figcaption>
	</figure>
</div>

<br>

<p>
	Sure, this fractal is quite pleasing to look at. But as with any object, without some deeper meaning, a lot of beauty is lost. Let's delve into how the Mandelbrot set is generated.
</p>

<p>
	First, let's consider the name. The Mandelbrot set is really just that: a <strong>set</strong>. That means it's effectively a list of points. When we color these points black and the rest of the points white, we get the figure from above. But how is this set determined?
</p>

<p>
	To understand the construction of the Mandelbrot set, we need to know about <a href="https://en.wikipedia.org/wiki/Complex_number" target="_blank">complex numbers</a>. Complex numbers, of course, are an incredibly rich subject, and they have applications in physics, statistics, and much more. In essence, complex numbers are based off an "imaginary number" called <em>i</em>, defined so that \(i^2=-1\).
</p>

<p>
	Like any other number, the conventional rules for arithmetic addition and subtraction work with <i>i</i>. For example, \(2i+2i=4i\) and \(5i-2i=3i\).
</p>

<p>
	By the definition of <i>i</i>, we know that \(i^2=-1\). But what's the value of, say, \((3i)^2\)? Well, we can treat this expression as \((3 \cdot i)^2 = 3^2 \cdot i^2\). Using our definition of <i>i</i>, we thus know that \((3i)^2=9\cdot-1=-9\).
</p>

<p>
	How about complex numbers? Well, when we add them, we just add their real components and their imaginary components in turn. For example, \((2+3i)+(4+9i)=(2+4)+(3+9)i=6+12i\)  and  \((2+3i)-(4+9i)=(2-4)+(3-9)i=-2-6i\). Multiplication of complex numbers is a tad tricker, but we just use the distributive property. For example, \((2+3i)\cdot(4+9i)=8+18i+12i-27=-19+30i\).
</p>

<p>
	We have these lovely complex numbers now. But is there a way to visualize them?
</p>

<p>
	Sure thing! We can think of these complex numbers as <i>points</i> on a plane, sort of like a Cartesian coordinate system. The <i>number</i> \(a+bi\) corresponds to the <i>point</i> \((a,b)\) on the coordinate plane.
</p>

<p>
	Of course, this is just a very basic introduction to complex numbers and the idea of the complex plane, so if you haven't learned about them yet and really want to understand what will be going on in the rest of this article, reading about <a href="https://en.wikipedia.org/wiki/Complex_number" target="_blank">complex numbers</a> and the <a href="https://en.wikipedia.org/wiki/Complex_plane" target="_blank">complex plane</a> may be helpful.
</p>

<p>
	With that out of the way, let's figure out what the Mandelbrot set is about!
</p>

<p>
	Define a function \(f_c(z)=z^2+c\) over the complex numbers. Then the Mandelbrot set is the set of all numbers \(c\) for which the function \(f_c(z)\) does not diverge when iterated from \(z=0\). In other words, \(f_c(f_c(f_c\cdots (z)))\) stays bounded.
</p>

<p>
	Let's test if the number \(0.2+0.5i\) is in the Mandelbrot set. We start with \(f_c(0)\), where \(c=0.2+0.5i\). In the next iteration, we do \(f_c(0.2+0.5i)=-0.01 + 0.7i\), then in the next we do \(f_c(-0.01 + 0.7 i)\), etc. The results of these iterations are shown:
</p>

<div class="figure">
	<figure>
		<img src="images/complextable1.png" alt="Iterations after c=(0.2+0.5i)">
		<figcaption>Figure 2: The numbers produced by iteration of \(f_c\).</figcaption>
	</figure>
</div>

<br>

<p>
	It seems \(c=0.2+0.5\) does not diverge to infinity; it stays bounded. Thus, it is in the Mandelbrot set. Overlaying a point \(c=0.2+0.5i\) on the original image, we can see that, indeed, the point lies in a black region. (The x and y axes are also indicated.)
</p>

<div class="figure">
	<figure>
		<img src="images/mandelbrot2.png" alt="Mandelbrot Set  (Real axis: [-2.5,1.5], Imaginary axis: [-2,2], 500 iterations.)">
		<figcaption>Figure 3: The Mandelbrot set, overlayed with point \(c=0.2+0.5i\).</figcaption>
	</figure>
</div>

<br>

<p>
	This repeated calculation is done for every point - or, at least, every pixel in the image - and if the calculation stays bounded to a reasonable number of iterations, we can assume that it probably will stay bounded forever. All the images up to this point have been done with 500 iterations.
</p>

<p>
	But what's so interesting about the Mandelbrot set? The answer lies in its intrinsically fractal nature. For example, suppose we zoom in on the Mandelbrot set, say, on the gray rectangle highlighted here:
</p>

<div class="figure">
	<figure>
		<img src="images/mandelbrot3.png" alt="Mandelbrot Set  (Real axis: [-2.5,1.5], Imaginary axis: [-2,2], 500 iterations.)" >
		<figcaption>Figure 4: The Mandelbrot set, box around mini-Brot.</figcaption>
	</figure>
</div>

<br>

<p>
	When we zoom in on that box, we get this image:
</p>

<div class="figure">
	<figure>
		<img src="images/mandelbrot4.png" alt="Mandelbrot Set">
		<figcaption>Figure 5: The Mandelbrot set, zoomed on mini-Brot at approximately \((-0.145,1.025)\).</figcaption>
	</figure>
</div>

<br>

<p>
	Wait... what? It's the Mandelbrot Set again! It's just rotated and scaled down. There must be some end to this... let's zoom in on the same spot, but now in this "mini-Brot".
</p>

<div class="figure">
	<figure>
		<img src="images/mandelbrot5.png" alt="Mandelbrot Set">
		<figcaption>Figure 6: The Mandelbrot set, zoomed on mini-Brot at approximately \((-0.145,1.025)\), box around next mini-Brot.</figcaption>
	</figure>
</div>

<br>

<div class="figure">
	<figure>
		<img src="images/mandelbrot6.png" alt="Mandelbrot Set">
		<figcaption>Figure 7: The Mandelbrot set, zoomed on another mini-Brot at approximately \((-0.152942,1.039712)\). Iteration count increased to 4000 for better detail.</figcaption>
	</figure>
</div>

<br>

<p>
	As we can see, inside of every Mandelbrot set, there's smaller Mandelbrot sets within. (If you're wondering why some parts of the image are gray, gray pixels denote points that go to infinity, but the darker the shade, the slower it diverges.) Cool!
</p>

<p>
	The Mandelbrot set, of course is very popular and famous fractal, but many of its properties are still unknown, including its area. If you'd like to read more about the Mandelbrot set, you can read the Wikipedia article <a href="https://en.wikipedia.org/wiki/Mandelbrot_set" target="_blank">here</a>, or play around with zooming into the set <a href="http://www.atopon.org/mandel/" target="_blank">here</a>.
</p>

<p>
	Remember the numbers produced by the function \(f_c\)? Well, they're complex numbers, and that means they can be graphed! Let's draw lines between them on a coordinate grid to see their movements.
</p>

<div class="figure">
	<figure>
		<img src="images/mandelbrot7.png" alt="Mandelbrot Set">
		<figcaption>Figure 8: The Mandelbrot set, path of iteration for \(c=0.2+0.5i\).</figcaption>
	</figure>
</div>

<br>

<p>
	We can see that the lines converge towards a certain point, slowly circling around it. This is true for any other point in the main <strong>cardioid</strong>, which is the sideways, heart-shaped object comprising most of the Mandelbrot set's area. Let's try a point outside of the main cardioid, say, \(c=-1.311687+0.062514i\)! (The point \(c\) is indicated with the arrow.)
</p>

<div class="figure">
	<figure>
		<img src="images/mandelbrot8.png" alt="Mandelbrot Set">
		<figcaption>Figure 9: The Mandelbrot set, path of iteration for \(c=-1.311686879823594+0.06251378169790517i\).</figcaption>
	</figure>
</div>

<br>

<p>
	This point is situated in a much stranger part of the Mandelbrot set, and as you can see, no pattern is clear in its iteration. It is these kinds of points that give the Mandelbrot set, and related fractals, their complexity.
</p>

<p>
	Of course, a natural question is: what happens when you change the function \(f_c(z)\)? Well, let's try it!
</p>

<div class="figure">
	<figure>
		<img src="images/fractal1.png" alt="Fractal">
		<figcaption>Figure 10: Fractal for \(f_c(z)=z^3+c\).</figcaption>
	</figure>
</div>

<br>

<div class="figure">
	<figure>
		<img src="images/fractal2.png" alt="Fractal">
		<figcaption>Figure 11: Fractal for \(f_c(z)=z^3-z^2+c\).</figcaption>
	</figure>
</div>

<br>
   
<div class="figure">
	<figure>
		<img src="images/fractal3.png" alt="Fractal">
		<figcaption>Figure 12: Fractal for \(f_c(z)=z^2+\sqrt{z}+0.8c\).</figcaption>
	</figure>
</div>

<br>

<p>
	Beautiful. They share certain characteristics... but they're all different. In our next article, we examine paths of iteration, fixed points, and other properties of various fractals.
</p>

<p>
	Now, let's see how these images were generated in code. My language of choice was <a href="http://www.cplusplus.com/" target="_blank">C++</a>, but any language with a complex number type will do with this method.
</p>

<p>
	First, we define our constants. These are 1. the image's height and width, 2. the bounds on the real axis, 3. the bounds on the imaginary axis, 4. the number of iterations to execute, and 5. the "escape radius," or the magnitude of the complex number where it is treated as if it will go to infinity. For taking a picture of the Mandelbrot set, the following settings are suitable, but you may want to adjust them for greater accuracy. For example, if the fractal boundary is too smooth, increasing the iteration count might help. For most fractals, an escape radius of 2 is too small, so set it to some number like 50 for fractals besides the Mandelbrot set. Changing the real and imaginary boundaries allow us to look at different parts of a fractal, including creating zooms into fractals, which we will consider in another article.
</p>

<div class="code">
	<code class="prettyprint">
		const int w = 2048; &nbsp; &nbsp; &nbsp; &nbsp; // Width, in pixels, of the output image<br>
		const int h = 2048; &nbsp; &nbsp; &nbsp; &nbsp; // Height, in pixels, of the output image<br>
		<br>
		const float re_min = -2.5;&nbsp; // Real value of the left edge of the image<br>
		const float re_max = 1.5; &nbsp; // Real value of the right edge of the image<br>
		const float im_min = -2; &nbsp;&nbsp; // Imaginary value of the bottom edge of the image<br>
		const float im_max = 2; &nbsp; &nbsp; // Imaginary value of the top edge of the image<br>
		<br>
		const int iterations = 255; // Number of iterations required to assume boundedness under iteration<br>
		const int escaperadius = 2; // Critical radius determining non-boundedness under iteration<br>
	</code>
</div>

<p>
	Now, we define two constants that will be used later in the program. Color decrement decreases the color intensity by the appropriate amount such that by the end of all iterations, if the number is in the fractal, the intensity will be 0.
</p>

<div class="code">
	<code class="prettyprint">
		const float colordecrement = 250.0/iterations; &nbsp; &nbsp; &nbsp; &nbsp; // Change in pixel darkness after each iteration<br>
		const int radiussquared = escaperadius * escaperadius;<br>
	</code>
</div>

<p>
	Hopefully this has been a good introduction to fractals in the complex plane!
</p>

<div class="separate"></div>
</div>
</div>

<div id="bottom"></div>

<script src="../../frame.js"></script>

</body>
</html>
