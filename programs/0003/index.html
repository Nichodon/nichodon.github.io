<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Time Signature Metronome</title>
<link rel="stylesheet" type="text/css" href="../../styles.css">
<link rel="icon" href="../../images/favicon.png" sizes="16x16" type="image/png">
<link rel="stylesheet" type="text/css" href="metronome.css">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<div id="top"></div>

<div class="content">
<h1>Time Signature Metronome</h1>
<p>21 June, 2017 &ndash; <a href="https://github.com/anematode" target="_blank">anematode</a></p>

<div class="article">
<p id="output"></p>

<div class="box">
    <p>
      <strong>Numbers</strong>: Inputting a number defines beat length.<br>
      This is mandatory. All other syntax is optional.
    </p>
    <p>
      <strong>Plus Sign</strong>: Different beats can be added together with "+".<br>
      Example: 3+3+2 plays 2 3-length beats and a 2-length beat.
    </p>
    <p>
      <strong>Asterisk</strong>: The asterisk denotes a repetition of beats.<br>
      Example: 3+3+3+2 can be written as 3*3+2.
    </p>
    <p>
      <strong>Parentheses</strong>: Parentheses are used to group beats.<br>
      Example: 3+2+3+2 is identical to 2*(3+2).
    </p>
    <p>
      <strong>Commas</strong>: Commas separate different measures.<br>
      Example: 3+2,3+2+2 is a measure of 5 followed by a measure of 7.
    </p>
    <p>
      <strong>Full example</strong>: 2*(3+2+3,) 4*2<br>
      Two measures in the accent pattern X x x X x X x x and<br>
      One measure in the accent pattern X x X x X x X x.
    </p>
    <p>
      <strong>Denominator</strong>: This must be a power of 2 between 0 and 33.
    </p>

    <hr>
    <div class="signature-label">
        <p>Time Signature</p>
    </div>
		<div class="signature" id="signature">
        <input type="text" min="1" max="50" value="4" id="numerator" onInput="updateSignature()"/>
        <hr>
        <input type="text" min="1" max="50" value="4" id="denominator" onInput="updateSignature()"/>
    </div>
		<br>
		<br>
    <div class="signature-label">
        <p>Click Volume</p>
    </div>
    <div class="signature-label">
        <input id="volume" min="0" max="200" value="80" type="range" onInput="updateVolume()"/>
    </div>
    <div class="bpm-label">
        <p>BPM</p>
    </div>
    <div class="bpm-label">
        <input id="bpm" min="5" max="800" value="120" type="number" onInput="updateBPM()"/>
    </div>
    <br>
    <div class="beat-length-label">
				<p>Beat Length</p>
        <input type="radio" value="note-length" id="wholeNoteLength" onClick="updateBeatLength(4)" name="select">
				<label for="wholeNoteLength">Whole</label>
        <input type="radio" value="note-length" id="halfNoteLength" onClick="updateBeatLength(2)" name="select">
				<label for="halfNoteLength">Half</label>
        <input type="radio" value="note-length" id="dottedQuarterNoteLength" onClick="updateBeatLength(1.5)" name="select">
				<label for="dottedQuarterNoteLength">Dotted Quarter</label>
        <input type="radio" value="note-length" id="quarterNoteLength" onClick="updateBeatLength(1)" name="select" checked="checked">
				<label for="quarterNoteLength">Quarter</label>
        <input type="radio" value="note-length" id="eighthNoteLength" onClick="updateBeatLength(0.5)" name="select">
				<label for="eighthNoteLength">Eighth</label>
				<input type="radio" value="note-length" id="sixteenthNoteLength" onClick="updateBeatLength(0.25)" name="select">
				<label for="sixteenthNoteLength">Sixteenth</label>
    </div>
    <br>
		<div class="beat-length-label">
				<p>Note Subdivisions</p>
        <input type="radio" value="subdivision-length" id="noSubdivisions" onClick="updateSubdivisions(0)" name="subdivision" checked="checked">
				<label for="noSubdivisions">None</label>
        <input type="radio" value="subdivision-length" id="eighthSubdivisions" onClick="updateSubdivisions(1)" name="subdivision">
				<label for="eighthSubdivisions">Eighth</label>
        <input type="radio" value="subdivision-length" id="tripletSubdivisions" onClick="updateSubdivisions(2)" name="subdivision">
				<label for="tripletSubdivisions">Triplet</label>
        <input type="radio" value="subdivision-length" id="sixteenthSubdivisions" onClick="updateSubdivisions(3)" name="subdivision">
				<label for="sixteenthSubdivisions">Sixteenth</label>
    </div>
		<br>
		<div class="beat-length-label">
				<p>Playback</p>
				<label for="playNonAccentedBeats">Play Non-accented Beats</label>
				<input type="checkbox" value="play-non-accented-beats" id="playNonAccentedBeats" onChange="updatePlayNA()" checked>
				<label for="swingValue">Eighth Swing</label>
				<input type="range" value="50" id="swingValue" onInput="updateSwing()" min="50" max="75" disabled>
		</div>
</div>

<hr>
<br>
<button id="togglePlayback" onClick="togglePlayback()">Play</button>
<br>
<br>

<div class="">
<canvas class="shadow" id="beater" width=1500 height=350></canvas>
    </div>


<div class="separate"></div>
</div>
</div>

<div id="bottom"></div>

<script src="../../frame.js"></script>
<script src="metronome.min.js"></script>

</body>
</html>
